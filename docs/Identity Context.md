
[Games Platform](..\..\Games%20Platform.md) > [2025-06](..\2025-06.md)

# Identity Context

- [1. Core purpose (play-money phase)](#key-1-core-purpose-play-money-phase)
- [2. Glossary](#key-2-glossary)
- [3. Public API / Events](#key-3-public-api-events)
- [4. Downstream consumers](#key-4-downstream-consumers)

# 1. Core purpose (play-money phase)

Handle registration, login, token issuance, password reset, basic rate-limiting.

# 2. Glossary

|  **Term**                        |  **Conceptual meaning**                                                                                                                                                                                                                                     |  **Typical use in a social-gaming platform**                                                                                                                                                                                                                                                               |
|:---------------------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **User**                         | One human participant in the ecosystem, referenced everywhere else by a stable internal identifier. A user can act as a *player* and, if granted extra powers, as an *administrator*.                                                                       | Every bet, wallet entry, session, or audit log ultimately ties back to a user.                                                                                                                                                                                                                             |
| **User status**                  | **Active** – normal account.  **Banned** – the account is blocked outright; log-ins are refused. **Shadow-banned** – the user can still log in and “play,” but other players (and often jackpots/leaderboards) do not see their presence, chat, or results. | Shadow-banning lets you throttle spam or abusive behavior without tipping the offender off, so they stop creating new throw-away accounts. For example, a shadow-banned slot player still spins locally but their wins never appear in global feeds; in poker they may be silently matched only with bots. |
| **Role**                         | A label that expresses the *powers* an account has in the system (e.g., `player`, `super_admin`, later `support`, `risk`). A single user may hold multiple roles.                                                                                           | Authorization checks (“Is this call allowed?”) look at the caller’s roles, not their status.                                                                                                                                                                                                               |
| **Profile**                      | Friendly, non-secure attributes a player can change themselves: display name, avatar, favorite game, locale, etc.                                                                                                                                           | Lets you cache and fan-out lightweight profile data to public lobbies without exposing security-sensitive fields.                                                                                                                                                                                          |
| **Credential**                   | A method by which the user proves identity. One user can have many credentials (email + password, Google OAuth, Apple ID, Facebook, etc.).                                                                                                                  | Decouples “how they sign in” from “who they are,” making social-login linking or password resets straightforward.                                                                                                                                                                                          |
| **Device**                       | A logical “installation” of your app on a physical device (Android, iOS, Web). Identified by a client-generated ID and tied back to the user after the first successful login.                                                                              | Enables finer-grained rate-limits or force-logout of a lost phone without killing other sessions.                                                                                                                                                                                                          |
| **Session**                      | A back-end record that tracks one authenticated log-in instance. Think “server-remembered cookie on steroids.”                                                                                                                                              | Powers “Log out everywhere” and lets support see which IP/OS a player is on.                                                                                                                                                                                                                               |
| **Access token (JWT)**           | Short-lived signed blob the client presents on every request; it carries the user-id, roles, device-id, and expiry time.                                                                                                                                    | Eliminates per-request DB look-ups for identity while remaining revocable via session.                                                                                                                                                                                                                     |
| **Refresh token**                | Long-lived opaque secret the client stores once; exchanging it yields a new access token.                                                                                                                                                                   | Lets you rotate access tokens frequently without forcing re-authentication.                                                                                                                                                                                                                                |
| **Rate-limit bucket**            | An in-memory counter keyed by user or device that tracks recent request volume.                                                                                                                                                                             | Thwarts brute-force logins or automated betting scripts even in play-money mode.                                                                                                                                                                                                                           |
| **Login event**                  | An immutable audit record of each sign-in attempt: success/failure, timestamp, IP, device, credential type.                                                                                                                                                 | Supports security investigations and basic fraud analytics.                                                                                                                                                                                                                                                |
| **Email service provider (ESP)** | A hosted service that actually delivers the email to the recipient’s mailbox. Think SendGrid, Mailgun, Amazon SES, Postmark, etc.                                                                                                                           | Password reset or verification emails                                                                                                                                                                                                                                                                      |

# 3. Public API / Events

|  **Endpoint / Event**    |  **Verb**                     |  **Notes**                       |
|:-------------------------|:------------------------------|:---------------------------------|
| `POST /register`         | REST                          | email + password → `UserCreated` |
| `POST /auth`             | REST                          | returns JWT                      |
| `POST /refresh`          | REST                          | renews JWT                       |
| **Event** `UserCreated`  | Kafka topic `identity.events` |                                  |

# 4. Downstream consumers

Wallet · Game-Session · Admin UI (read-only)
